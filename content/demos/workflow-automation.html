<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gestione Buste Paga e Adempimenti &mdash; Praxis AI</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --navy:#0f172a;--navy-light:#1e3a5f;--navy-muted:#334155;
  --silver:#94a3b8;--surface:#f0f4f8;--surface-light:#f8fafc;
  --surface-dark:#e2e8f0;--ice:#fafbfd;--border:#cbd5e1;
  --white:#ffffff;--accent-green:#16a34a;--accent-amber:#d97706;--accent-red:#dc2626;
  --font-body:'Inter',system-ui,-apple-system,sans-serif;
  --font-display:'Caveat',cursive;
  --shadow-sm:0 1px 3px rgba(15,23,42,0.06);
  --shadow-md:0 4px 12px rgba(15,23,42,0.08);
  --shadow-lg:0 8px 30px rgba(15,23,42,0.12);
  --radius-sm:8px;--radius-md:12px;--radius-lg:16px;
}
html{font-size:16px}
body{font-family:var(--font-body);background:var(--surface-light);color:var(--navy);min-height:100vh;-webkit-font-smoothing:antialiased;padding-bottom:80px;line-height:1.5}

/* ── Header ── */
.header{display:flex;align-items:center;justify-content:space-between;padding:20px 40px;border-bottom:1px solid var(--border);background:rgba(248,250,252,0.85);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);position:sticky;top:0;z-index:100}
.header-left{display:flex;align-items:center;gap:20px}
.header-brand{display:flex;flex-direction:column;gap:2px}
.header-title{font-family:var(--font-display);font-size:26px;font-weight:700;color:var(--navy);line-height:1}
.header-subtitle{font-size:12px;color:var(--silver);font-weight:500;letter-spacing:.02em}
.header-right{display:flex;align-items:center;gap:12px}
.badge-live{display:flex;align-items:center;gap:6px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--accent-green);background:rgba(22,163,74,0.1);padding:5px 12px;border-radius:100px;opacity:0;transition:opacity .4s}
.badge-live.visible{opacity:1}
.badge-live::before{content:'';width:6px;height:6px;border-radius:50%;background:var(--accent-green);animation:pulse-dot 2s ease-in-out infinite}
@keyframes pulse-dot{0%,100%{opacity:1}50%{opacity:.4}}

/* ── Main ── */
.main{max-width:1080px;margin:0 auto;padding:0 32px}
.section{margin-top:32px;opacity:0;transform:translateY(20px);transition:opacity .6s cubic-bezier(.16,1,.3,1),transform .6s cubic-bezier(.16,1,.3,1)}
.section.visible{opacity:1;transform:translateY(0)}
.section-label{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--silver);margin-bottom:14px;display:flex;align-items:center;gap:8px}
.step-num{width:22px;height:22px;border-radius:50%;background:var(--navy);color:var(--white);font-size:11px;font-weight:700;display:flex;align-items:center;justify-content:center}

/* ── Step 1: Employee Grid ── */
.employee-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}
.employee-count{font-size:15px;font-weight:700;color:var(--navy)}
.employee-count span{color:var(--navy-light);font-weight:600}
.employee-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:14px}
.emp-card{background:var(--white);border-radius:var(--radius-md);border:1px solid var(--border);padding:18px 20px;box-shadow:var(--shadow-sm);opacity:0;transform:translateY(16px);transition:all .5s cubic-bezier(.16,1,.3,1);position:relative;cursor:default}
.emp-card.visible{opacity:1;transform:translateY(0)}
.emp-card-top{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.emp-name{font-size:15px;font-weight:700;color:var(--navy)}
.ccnl-badge{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;padding:3px 9px;border-radius:20px;white-space:nowrap}
.ccnl-commercio{background:rgba(30,58,95,0.1);color:var(--navy-light)}
.ccnl-metalmeccanico{background:rgba(22,163,74,0.1);color:var(--accent-green)}
.ccnl-studi{background:rgba(217,119,6,0.1);color:var(--accent-amber)}
.emp-details{font-size:13px;color:var(--silver);line-height:1.6}
.emp-details strong{color:var(--navy-muted);font-weight:600}
.emp-tipo{display:inline-block;margin-top:4px;font-size:11px;font-weight:600;padding:2px 8px;border-radius:12px;background:var(--surface);color:var(--navy-muted)}

/* Warning badge */
.warning-badge{position:absolute;top:12px;right:12px;width:28px;height:28px;border-radius:50%;background:rgba(217,119,6,0.15);display:flex;align-items:center;justify-content:center;cursor:pointer;animation:pulse-warn 2s ease-in-out infinite;font-size:14px;border:none;outline:none;z-index:5}
@keyframes pulse-warn{0%,100%{box-shadow:0 0 0 0 rgba(217,119,6,0.3)}50%{box-shadow:0 0 0 8px rgba(217,119,6,0)}}

/* Alert Panel */
.alert-overlay{position:fixed;inset:0;background:rgba(15,23,42,0.5);display:none;align-items:center;justify-content:center;z-index:200;padding:20px}
.alert-overlay.visible{display:flex}
.alert-panel{background:var(--white);border-radius:var(--radius-lg);max-width:520px;width:100%;padding:28px;box-shadow:var(--shadow-lg);border-left:4px solid var(--accent-amber);animation:slideUp .4s cubic-bezier(.16,1,.3,1)}
@keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.alert-panel h3{font-size:16px;font-weight:700;color:var(--accent-amber);margin-bottom:12px;display:flex;align-items:center;gap:8px}
.alert-panel p{font-size:14px;color:var(--navy-muted);line-height:1.7;margin-bottom:8px}
.alert-panel ul{margin:8px 0 12px 20px;font-size:14px;color:var(--navy-muted);line-height:1.8}
.alert-panel .note{font-size:13px;color:var(--silver);font-style:italic;border-top:1px solid var(--border);padding-top:12px;margin-top:12px}
.alert-close{margin-top:16px;background:var(--navy);color:var(--white);border:none;padding:10px 24px;border-radius:var(--radius-sm);font-size:13px;font-weight:600;cursor:pointer;transition:background .2s}
.alert-close:hover{background:var(--navy-light)}

/* ── Step 2: Payroll ── */
.payroll-card{background:var(--white);border-radius:var(--radius-lg);border:1px solid var(--border);padding:28px;box-shadow:var(--shadow-md);overflow:hidden}
.payroll-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;padding-bottom:16px;border-bottom:2px solid var(--navy)}
.payroll-title{font-size:18px;font-weight:700;color:var(--navy)}
.payroll-period{font-size:13px;color:var(--silver);font-weight:500}
.payroll-employee{font-size:14px;color:var(--navy-muted);margin-bottom:16px}
.payroll-employee strong{color:var(--navy)}
.payroll-lines{display:flex;flex-direction:column;gap:0}
.payroll-line{display:flex;align-items:center;justify-content:space-between;padding:10px 0;border-bottom:1px solid var(--surface-dark);opacity:0;transform:translateX(-12px);transition:opacity .4s,transform .4s}
.payroll-line.visible{opacity:1;transform:translateX(0)}
.payroll-line:last-child{border-bottom:none}
.payroll-line-label{font-size:13px;color:var(--navy-muted);font-weight:500}
.payroll-line-value{font-size:14px;font-weight:700;color:var(--navy);font-variant-numeric:tabular-nums}
.payroll-line-value.negative{color:var(--accent-red)}
.payroll-line-value.positive{color:var(--accent-green)}
.payroll-line.total{border-top:2px solid var(--navy);border-bottom:none;margin-top:4px;padding-top:14px}
.payroll-line.total .payroll-line-label{font-weight:700;color:var(--navy);font-size:15px}
.payroll-line.total .payroll-line-value{font-size:18px;color:var(--navy)}
.payroll-line.tfr{background:var(--surface);margin:8px -28px -28px;padding:12px 28px;border-bottom:none}
.payroll-line.tfr .payroll-line-label{font-size:12px;font-style:italic;color:var(--silver)}
.payroll-line.tfr .payroll-line-value{font-size:13px;color:var(--silver)}
.payroll-spinner{display:flex;align-items:center;gap:10px;margin-bottom:16px;font-size:13px;font-weight:600;color:var(--navy-muted)}
.spinner{width:16px;height:16px;border:2.5px solid var(--surface-dark);border-top-color:var(--navy);border-radius:50%;animation:spin .8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* ── Step 3: Compliance ── */
.compliance-card{background:var(--white);border-radius:var(--radius-lg);border:1px solid var(--border);padding:28px;box-shadow:var(--shadow-sm)}
.compliance-item{display:flex;align-items:flex-start;gap:12px;padding:12px 0;border-bottom:1px solid var(--surface-dark);opacity:0;transform:translateX(-10px);transition:opacity .4s,transform .4s}
.compliance-item.visible{opacity:1;transform:translateX(0)}
.compliance-item:last-child{border-bottom:none}
.compliance-icon{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:13px;flex-shrink:0;margin-top:1px;background:var(--surface);color:var(--silver);transition:all .4s}
.compliance-icon.ok{background:rgba(22,163,74,0.1);color:var(--accent-green)}
.compliance-icon.warn{background:rgba(217,119,6,0.1);color:var(--accent-amber)}
.compliance-text{font-size:13px;color:var(--navy-muted);line-height:1.5}
.compliance-text strong{color:var(--navy);font-weight:600}
.compliance-stats{margin-top:16px;padding-top:16px;border-top:1px solid var(--border);font-size:14px;font-weight:700;color:var(--navy);display:flex;align-items:center;gap:8px;opacity:0;transition:opacity .4s}
.compliance-stats.visible{opacity:1}

/* ── Step 4: UniLav ── */
.unilav-card{background:var(--white);border-radius:var(--radius-lg);border:1px solid var(--border);padding:28px;box-shadow:var(--shadow-sm)}
.unilav-header{font-size:16px;font-weight:700;color:var(--navy);margin-bottom:4px}
.unilav-sub{font-size:13px;color:var(--silver);margin-bottom:20px}
.unilav-grid{display:grid;grid-template-columns:1fr 1fr;gap:0}
.unilav-row{display:flex;flex-direction:column;padding:10px 14px;border-bottom:1px solid var(--surface-dark);opacity:0;transition:opacity .4s,background .3s}
.unilav-row.visible{opacity:1;background:rgba(22,163,74,0.03)}
.unilav-row-label{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--silver);margin-bottom:2px}
.unilav-row-value{font-size:14px;font-weight:600;color:var(--navy)}
.unilav-validation{margin-top:20px;padding:16px;background:rgba(22,163,74,0.06);border-radius:var(--radius-sm);border:1px solid rgba(22,163,74,0.15);font-size:14px;font-weight:600;color:var(--accent-green);text-align:center;opacity:0;transition:opacity .4s}
.unilav-validation.visible{opacity:1}

/* ── CTA ── */
.cta-bar{margin-top:32px;text-align:center;opacity:0;transform:translateY(16px);transition:all .6s cubic-bezier(.16,1,.3,1)}
.cta-bar.visible{opacity:1;transform:translateY(0)}
.cta-button{display:inline-flex;align-items:center;gap:8px;background:var(--navy);color:var(--white);border:none;padding:14px 32px;border-radius:var(--radius-md);font-size:15px;font-weight:700;cursor:pointer;transition:background .2s,transform .15s}
.cta-button:hover{background:var(--navy-light);transform:translateY(-1px)}
.replay-btn{margin-top:16px;display:inline-flex;align-items:center;gap:6px;background:transparent;border:1px solid var(--border);color:var(--silver);padding:8px 18px;border-radius:var(--radius-sm);font-size:12px;font-weight:600;cursor:pointer;transition:all .2s}
.replay-btn:hover{border-color:var(--navy);color:var(--navy)}

/* ── Responsive ── */
@media(max-width:768px){
  .header{padding:16px 20px}
  .main{padding:0 16px}
  .employee-grid{grid-template-columns:1fr}
  .unilav-grid{grid-template-columns:1fr}
  .payroll-card{padding:20px}
  .payroll-line.tfr{margin:8px -20px -20px;padding:12px 20px}
}
@media(max-width:480px){
  .header-title{font-size:22px}
  .header-subtitle{display:none}
}
</style>
</head>
<body>

<div class="header">
  <div class="header-left">
    <div class="header-brand">
      <div class="header-title" data-i18n="headerTitle">Praxis AI</div>
      <div class="header-subtitle" data-i18n="headerSubtitle">Gestione Buste Paga e Adempimenti</div>
    </div>
  </div>
  <div class="header-right">
    <div class="badge-live" id="badgeLive" data-i18n="badgeLive">Attivo</div>
  </div>
</div>

<div class="main">

  <!-- Step 1: Employee Dashboard -->
  <div class="section" id="step1">
    <div class="section-label"><span class="step-num">1</span> <span data-i18n="step1Label">Anagrafica Dipendenti</span></div>
    <div class="employee-header">
      <div class="employee-count"><span data-i18n="employeeCount">6 dipendenti attivi</span></div>
    </div>
    <div class="employee-grid" id="empGrid">
      <div class="emp-card" data-idx="0">
        <div class="emp-card-top">
          <div class="emp-name">Mario Rossi</div>
          <span class="ccnl-badge ccnl-commercio">CCNL Commercio</span>
        </div>
        <div class="emp-details"><span data-i18n="hiredLabel">Assunto</span>: 15/12/2025</div>
        <div class="emp-tipo" data-i18n="tipo0">Periodo di prova</div>
        <button class="warning-badge" id="warningBadge" title="Attenzione">&#9888;</button>
      </div>
      <div class="emp-card" data-idx="1">
        <div class="emp-card-top">
          <div class="emp-name">Laura Bianchi</div>
          <span class="ccnl-badge ccnl-metalmeccanico">CCNL Metalmeccanico</span>
        </div>
        <div class="emp-details"><span data-i18n="hiredLabelF">Assunta</span>: 03/05/2023</div>
        <div class="emp-tipo" data-i18n="tipo1">Tempo indeterminato</div>
      </div>
      <div class="emp-card" data-idx="2">
        <div class="emp-card-top">
          <div class="emp-name">Giuseppe Verdi</div>
          <span class="ccnl-badge ccnl-commercio">CCNL Commercio</span>
        </div>
        <div class="emp-details"><span data-i18n="hiredLabel">Assunto</span>: 01/09/2024</div>
        <div class="emp-tipo" data-i18n="tipo2">Tempo determinato</div>
      </div>
      <div class="emp-card" data-idx="3">
        <div class="emp-card-top">
          <div class="emp-name">Anna Colombo</div>
          <span class="ccnl-badge ccnl-studi">CCNL Studi Prof.</span>
        </div>
        <div class="emp-details"><span data-i18n="hiredLabelF">Assunta</span>: 10/01/2024</div>
        <div class="emp-tipo" data-i18n="tipo3">Part-time 50%</div>
      </div>
      <div class="emp-card" data-idx="4">
        <div class="emp-card-top">
          <div class="emp-name">Marco Ferrari</div>
          <span class="ccnl-badge ccnl-metalmeccanico">CCNL Metalmeccanico</span>
        </div>
        <div class="emp-details"><span data-i18n="hiredLabel">Assunto</span>: 22/03/2022</div>
        <div class="emp-tipo" data-i18n="tipo4">Tempo indeterminato</div>
      </div>
      <div class="emp-card" data-idx="5">
        <div class="emp-card-top">
          <div class="emp-name">Elena Russo</div>
          <span class="ccnl-badge ccnl-commercio">CCNL Commercio</span>
        </div>
        <div class="emp-details"><span data-i18n="hiredLabelF">Assunta</span>: 01/11/2025</div>
        <div class="emp-tipo" data-i18n="tipo5">Apprendistato</div>
      </div>
    </div>
  </div>

  <!-- Step 2: Payroll Processing -->
  <div class="section" id="step2">
    <div class="section-label"><span class="step-num">2</span> <span data-i18n="step2Label">Elaborazione Busta Paga</span></div>
    <div class="payroll-spinner" id="payrollSpinner"><div class="spinner"></div><span data-i18n="payrollProcessing">Elaborazione in corso...</span></div>
    <div class="payroll-card" id="payrollCard" style="display:none">
      <div class="payroll-header">
        <div class="payroll-title" data-i18n="payslipTitle">Cedolino Paga</div>
        <div class="payroll-period" data-i18n="payslipPeriod">Periodo: Gennaio 2026</div>
      </div>
      <div class="payroll-employee"><strong>Mario Rossi</strong> &mdash; <span data-i18n="payslipCcnl">CCNL Commercio &mdash; Livello IV</span></div>
      <div class="payroll-lines" id="payrollLines">
        <div class="payroll-line" data-anim-val="1750.00" data-prefix=""><span class="payroll-line-label" data-i18n="pl0">Retribuzione Base</span><span class="payroll-line-value">&euro;0,00</span></div>
        <div class="payroll-line" data-anim-val="156.00" data-prefix=""><span class="payroll-line-label" data-i18n="pl1">Straordinari (12h)</span><span class="payroll-line-value">&euro;0,00</span></div>
        <div class="payroll-line" data-anim-val="1906.00" data-prefix=""><span class="payroll-line-label" data-i18n="pl2">Totale Lordo</span><span class="payroll-line-value" style="font-weight:800">&euro;0,00</span></div>
        <div class="payroll-line" data-anim-val="175.16" data-prefix="-"><span class="payroll-line-label" data-i18n="pl3">INPS (9,19%)</span><span class="payroll-line-value negative">&euro;0,00</span></div>
        <div class="payroll-line" data-anim-val="380.94" data-prefix="-"><span class="payroll-line-label" data-i18n="pl4">IRPEF</span><span class="payroll-line-value negative">&euro;0,00</span></div>
        <div class="payroll-line" data-anim-val="120.00" data-prefix="+"><span class="payroll-line-label" data-i18n="pl5">Detrazioni lavoro dipendente</span><span class="payroll-line-value positive">&euro;0,00</span></div>
        <div class="payroll-line" data-anim-val="28.59" data-prefix="-"><span class="payroll-line-label" data-i18n="pl6">Addizionale Regionale</span><span class="payroll-line-value negative">&euro;0,00</span></div>
        <div class="payroll-line" data-anim-val="14.29" data-prefix="-"><span class="payroll-line-label" data-i18n="pl7">Addizionale Comunale</span><span class="payroll-line-value negative">&euro;0,00</span></div>
        <div class="payroll-line total" data-anim-val="1427.02" data-prefix=""><span class="payroll-line-label" data-i18n="pl8">Netto in busta</span><span class="payroll-line-value">&euro;0,00</span></div>
        <div class="payroll-line tfr" data-anim-val="145.72" data-prefix=""><span class="payroll-line-label" data-i18n="pl9">TFR accantonato</span><span class="payroll-line-value">&euro;0,00</span></div>
      </div>
    </div>
  </div>

  <!-- Step 3: Compliance Check -->
  <div class="section" id="step3">
    <div class="section-label"><span class="step-num">3</span> <span data-i18n="step3Label">Verifica Conformit&agrave;</span></div>
    <div class="compliance-card" id="complianceCard">
      <div class="compliance-item" data-status="ok">
        <div class="compliance-icon">&#10003;</div>
        <div class="compliance-text"><strong data-i18n="c0title">Aggiornamento CCNL:</strong> <span data-i18n="c0desc">Tabelle retributive Commercio aggiornate al 01/01/2026</span></div>
      </div>
      <div class="compliance-item" data-status="ok">
        <div class="compliance-icon">&#10003;</div>
        <div class="compliance-text"><strong data-i18n="c1title">Minimali INPS:</strong> <span data-i18n="c1desc">Contributi conformi ai minimali 2026</span></div>
      </div>
      <div class="compliance-item" data-status="warn">
        <div class="compliance-icon">&#9888;</div>
        <div class="compliance-text"><strong data-i18n="c2title">Conguaglio fiscale:</strong> <span data-i18n="c2desc">Conguaglio IRPEF di fine anno: differenza di &euro;234,00 da regolarizzare</span></div>
      </div>
      <div class="compliance-item" data-status="ok">
        <div class="compliance-icon">&#10003;</div>
        <div class="compliance-text"><strong data-i18n="c3title">Autoliquidazione INAIL:</strong> <span data-i18n="c3desc">Premio INAIL calcolato &mdash; Scadenza: 16/02/2026</span></div>
      </div>
      <div class="compliance-item" data-status="ok">
        <div class="compliance-icon">&#10003;</div>
        <div class="compliance-text"><strong data-i18n="c4title">TFR:</strong> <span data-i18n="c4desc">Accantonamento TFR conforme all'Art. 2120 c.c.</span></div>
      </div>
      <div class="compliance-stats" id="complianceStats" data-i18n="complianceResult">4/5 conformi &mdash; 1 da verificare</div>
    </div>
  </div>

  <!-- Step 4: UniLav Generation -->
  <div class="section" id="step4">
    <div class="section-label"><span class="step-num">4</span> <span data-i18n="step4Label">Generazione Comunicazione UniLav</span></div>
    <div class="unilav-card" id="unilavCard">
      <div class="unilav-header" data-i18n="unilavTitle">Comunicazione Obbligatoria</div>
      <div class="unilav-sub" data-i18n="unilavSub">Modello UniLav &mdash; Assunzione</div>
      <div class="unilav-grid" id="unilavGrid">
        <div class="unilav-row"><div class="unilav-row-label" data-i18n="u0label">Tipo comunicazione</div><div class="unilav-row-value" data-i18n="u0val">Assunzione</div></div>
        <div class="unilav-row"><div class="unilav-row-label" data-i18n="u1label">Lavoratore</div><div class="unilav-row-value">Elena Russo</div></div>
        <div class="unilav-row"><div class="unilav-row-label" data-i18n="u2label">Data assunzione</div><div class="unilav-row-value">01/11/2025</div></div>
        <div class="unilav-row"><div class="unilav-row-label" data-i18n="u3label">Tipologia contratto</div><div class="unilav-row-value" data-i18n="u3val">Apprendistato professionalizzante</div></div>
        <div class="unilav-row"><div class="unilav-row-label">CCNL</div><div class="unilav-row-value" data-i18n="u4val">Commercio</div></div>
        <div class="unilav-row"><div class="unilav-row-label" data-i18n="u5label">Qualifica</div><div class="unilav-row-value" data-i18n="u5val">Impiegata di III livello</div></div>
        <div class="unilav-row"><div class="unilav-row-label" data-i18n="u6label">Orario</div><div class="unilav-row-value" data-i18n="u6val">Full-time (40h)</div></div>
        <div class="unilav-row"><div class="unilav-row-label" data-i18n="u7label">Sede di lavoro</div><div class="unilav-row-value">Milano (MI)</div></div>
        <div class="unilav-row"><div class="unilav-row-label" data-i18n="u8label">Centro per l'Impiego</div><div class="unilav-row-value">Milano</div></div>
      </div>
      <div class="unilav-validation" id="unilavValidation" data-i18n="unilavOk">&#10004; Comunicazione pronta per l'invio</div>
    </div>
  </div>

  <!-- CTA -->
  <div class="cta-bar" id="ctaBar">
    <div><button class="cta-button" data-i18n="ctaText">Vuoi automatizzare le buste paga?</button></div>
    <div><button class="replay-btn" onclick="replayDemo()"><span>&#x21BB;</span> <span data-i18n="replayLabel">Rivedi demo</span></button></div>
  </div>

</div>

<!-- Alert Overlay -->
<div class="alert-overlay" id="alertOverlay">
  <div class="alert-panel">
    <h3 data-i18n="alertTitle">&#9888; Scadenza Periodo di Prova</h3>
    <p data-i18n="alertP1">Il periodo di prova di Mario Rossi (3 mesi, CCNL Commercio Art. 108) scade il 15/03/2026.</p>
    <p data-i18n="alertP2">Azione richiesta entro il 14/03/2026:</p>
    <ul>
      <li data-i18n="alertLi1">Conferma assunzione definitiva, oppure</li>
      <li data-i18n="alertLi2">Comunicazione di recesso durante il periodo di prova</li>
    </ul>
    <div class="note" data-i18n="alertNote">Nota: Il recesso durante il periodo di prova non richiede preavviso (Art. 2096 c.c.)</div>
    <button class="alert-close" id="alertClose" data-i18n="alertClose">Chiudi</button>
  </div>
</div>

<script>
(function(){
'use strict';

var LOCALE = window.__PRAXIS_LOCALE__ || 'it';

var T_ALL = {
en:{
  headerTitle:'Praxis AI',headerSubtitle:'Payroll & Compliance Management',badgeLive:'Active',
  step1Label:'Employee Registry',step2Label:'Payroll Processing',step3Label:'Compliance Check',step4Label:'UniLav Communication Generation',
  employeeCount:'6 active employees',
  hiredLabel:'Hired',hiredLabelF:'Hired',
  tipo0:'Probation period',tipo1:'Permanent contract',tipo2:'Fixed-term contract',tipo3:'Part-time 50%',tipo4:'Permanent contract',tipo5:'Apprenticeship',
  payrollProcessing:'Processing payroll...',payslipTitle:'Payslip',payslipPeriod:'Period: January 2026',payslipCcnl:'CCNL Commerce \u2014 Level IV',
  pl0:'Base Salary',pl1:'Overtime (12h)',pl2:'Gross Total',pl3:'INPS (9.19%)',pl4:'IRPEF',pl5:'Employment tax deductions',pl6:'Regional Surtax',pl7:'Municipal Surtax',pl8:'Net Pay',pl9:'TFR accrued',
  c0title:'CCNL Update:',c0desc:'Commerce pay tables updated to 01/01/2026',
  c1title:'INPS Minimums:',c1desc:'Contributions compliant with 2026 minimums',
  c2title:'Tax Adjustment:',c2desc:'Year-end IRPEF adjustment: \u20AC234.00 difference to be settled',
  c3title:'INAIL Self-Assessment:',c3desc:'INAIL premium calculated \u2014 Deadline: 16/02/2026',
  c4title:'TFR:',c4desc:'TFR accrual compliant with Art. 2120 Civil Code',
  complianceResult:'4/5 compliant \u2014 1 to verify',
  unilavTitle:'Mandatory Communication',unilavSub:'UniLav Form \u2014 Hiring',
  u0label:'Communication type',u0val:'Hiring',
  u1label:'Worker',u2label:'Hire date',u3label:'Contract type',u3val:'Professional apprenticeship',
  u5label:'Qualification',u5val:'Level III Employee',
  u6label:'Working hours',u6val:'Full-time (40h)',
  u7label:'Workplace',u8label:'Employment Center',
  u4val:'Commerce',
  unilavOk:'\u2714 Communication ready for submission',
  ctaText:'Want to automate payroll?',replayLabel:'Replay demo',
  alertTitle:'\u26A0 Probation Period Expiration',
  alertP1:'Mario Rossi\'s probation period (3 months, CCNL Commerce Art. 108) expires on 15/03/2026.',
  alertP2:'Action required by 14/03/2026:',
  alertLi1:'Confirm permanent hiring, or',
  alertLi2:'Issue probation period termination notice',
  alertNote:'Note: Termination during probation period does not require notice (Art. 2096 Civil Code)',
  alertClose:'Close'
},
it:{
  headerTitle:'Praxis AI',headerSubtitle:'Gestione Buste Paga e Adempimenti',badgeLive:'Attivo',
  step1Label:'Anagrafica Dipendenti',step2Label:'Elaborazione Busta Paga',step3Label:'Verifica Conformit\u00E0',step4Label:'Generazione Comunicazione UniLav',
  employeeCount:'6 dipendenti attivi',
  hiredLabel:'Assunto',hiredLabelF:'Assunta',
  tipo0:'Periodo di prova',tipo1:'Tempo indeterminato',tipo2:'Tempo determinato',tipo3:'Part-time 50%',tipo4:'Tempo indeterminato',tipo5:'Apprendistato',
  payrollProcessing:'Elaborazione in corso...',payslipTitle:'Cedolino Paga',payslipPeriod:'Periodo: Gennaio 2026',payslipCcnl:'CCNL Commercio \u2014 Livello IV',
  pl0:'Retribuzione Base',pl1:'Straordinari (12h)',pl2:'Totale Lordo',pl3:'INPS (9,19%)',pl4:'IRPEF',pl5:'Detrazioni lavoro dipendente',pl6:'Addizionale Regionale',pl7:'Addizionale Comunale',pl8:'Netto in busta',pl9:'TFR accantonato',
  c0title:'Aggiornamento CCNL:',c0desc:'Tabelle retributive Commercio aggiornate al 01/01/2026',
  c1title:'Minimali INPS:',c1desc:'Contributi conformi ai minimali 2026',
  c2title:'Conguaglio fiscale:',c2desc:'Conguaglio IRPEF di fine anno: differenza di \u20AC234,00 da regolarizzare',
  c3title:'Autoliquidazione INAIL:',c3desc:'Premio INAIL calcolato \u2014 Scadenza: 16/02/2026',
  c4title:'TFR:',c4desc:'Accantonamento TFR conforme all\'Art. 2120 c.c.',
  complianceResult:'4/5 conformi \u2014 1 da verificare',
  unilavTitle:'Comunicazione Obbligatoria',unilavSub:'Modello UniLav \u2014 Assunzione',
  u0label:'Tipo comunicazione',u0val:'Assunzione',
  u1label:'Lavoratore',u2label:'Data assunzione',u3label:'Tipologia contratto',u3val:'Apprendistato professionalizzante',
  u5label:'Qualifica',u5val:'Impiegata di III livello',
  u6label:'Orario',u6val:'Full-time (40h)',
  u7label:'Sede di lavoro',u8label:'Centro per l\'Impiego',
  u4val:'Commercio',
  unilavOk:'\u2714 Comunicazione pronta per l\'invio',
  ctaText:'Vuoi automatizzare le buste paga?',replayLabel:'Rivedi demo',
  alertTitle:'\u26A0 Scadenza Periodo di Prova',
  alertP1:'Il periodo di prova di Mario Rossi (3 mesi, CCNL Commercio Art. 108) scade il 15/03/2026.',
  alertP2:'Azione richiesta entro il 14/03/2026:',
  alertLi1:'Conferma assunzione definitiva, oppure',
  alertLi2:'Comunicazione di recesso durante il periodo di prova',
  alertNote:'Nota: Il recesso durante il periodo di prova non richiede preavviso (Art. 2096 c.c.)',
  alertClose:'Chiudi'
}
};

var T = T_ALL[LOCALE] || T_ALL.it;

/* ── Apply i18n ── */
function applyI18n(){
  document.querySelectorAll('[data-i18n]').forEach(function(el){
    var k = el.getAttribute('data-i18n');
    if(T[k] !== undefined) el.textContent = T[k];
  });
}
applyI18n();

/* ── Helpers ── */
function $(s){ return document.querySelector(s); }
function $$(s){ return document.querySelectorAll(s); }
function delay(ms){ return new Promise(function(r){ setTimeout(r, ms); }); }

function formatEur(val, prefix){
  var p = prefix || '';
  var parts = val.toFixed(2).split('.');
  var intPart = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, '.');
  return p + '\u20AC' + intPart + ',' + parts[1];
}

function animateNumber(el, target, prefix, duration){
  return new Promise(function(resolve){
    var start = performance.now();
    var dur = duration || 600;
    function tick(now){
      var t = Math.min((now - start) / dur, 1);
      var ease = 1 - Math.pow(1 - t, 3);
      var current = target * ease;
      el.textContent = formatEur(current, prefix);
      if(t < 1) requestAnimationFrame(tick);
      else{
        el.textContent = formatEur(target, prefix);
        resolve();
      }
    }
    requestAnimationFrame(tick);
  });
}

/* ── State ── */
var running = false;

/* ── Main sequence ── */
async function runDemo(){
  if(running) return;
  running = true;

  /* Reset */
  $$('.section').forEach(function(s){ s.classList.remove('visible'); });
  $$('.emp-card').forEach(function(c){ c.classList.remove('visible'); });
  $$('.payroll-line').forEach(function(l){ l.classList.remove('visible'); l.querySelector('.payroll-line-value').textContent = '\u20AC0,00'; });
  $$('.compliance-item').forEach(function(i){ i.classList.remove('visible'); i.querySelector('.compliance-icon').className = 'compliance-icon'; });
  $$('.unilav-row').forEach(function(r){ r.classList.remove('visible'); });
  $('#complianceStats').classList.remove('visible');
  $('#unilavValidation').classList.remove('visible');
  $('#ctaBar').classList.remove('visible');
  $('#badgeLive').classList.remove('visible');
  $('#payrollCard').style.display = 'none';
  $('#payrollSpinner').style.display = 'flex';
  $('#alertOverlay').classList.remove('visible');

  await delay(400);
  $('#badgeLive').classList.add('visible');

  /* ── STEP 1: Employee Dashboard ── */
  $('#step1').classList.add('visible');
  await delay(300);

  var cards = $$('.emp-card');
  for(var i = 0; i < cards.length; i++){
    cards[i].classList.add('visible');
    await delay(180);
  }

  await delay(1200);

  /* ── STEP 2: Payroll Processing ── */
  $('#step2').classList.add('visible');
  await delay(600);

  $('#payrollSpinner').style.display = 'flex';
  await delay(1200);
  $('#payrollSpinner').style.display = 'none';
  $('#payrollCard').style.display = 'block';
  await delay(300);

  var lines = $$('.payroll-line');
  for(var j = 0; j < lines.length; j++){
    var line = lines[j];
    var val = parseFloat(line.getAttribute('data-anim-val'));
    var prefix = line.getAttribute('data-prefix');
    line.classList.add('visible');
    await animateNumber(line.querySelector('.payroll-line-value'), val, prefix, 500);
    await delay(200);
  }

  await delay(1500);

  /* ── STEP 3: Compliance Check ── */
  $('#step3').classList.add('visible');
  await delay(400);

  var checks = $$('.compliance-item');
  for(var k = 0; k < checks.length; k++){
    var item = checks[k];
    var status = item.getAttribute('data-status');
    item.classList.add('visible');
    await delay(400);
    var icon = item.querySelector('.compliance-icon');
    icon.classList.add(status);
    await delay(500);
  }

  await delay(300);
  $('#complianceStats').classList.add('visible');

  await delay(1500);

  /* ── STEP 4: UniLav Generation ── */
  $('#step4').classList.add('visible');
  await delay(400);

  var rows = $$('.unilav-row');
  for(var m = 0; m < rows.length; m++){
    rows[m].classList.add('visible');
    await delay(300);
  }

  await delay(400);
  $('#unilavValidation').classList.add('visible');

  await delay(600);
  $('#ctaBar').classList.add('visible');

  running = false;
}

/* ── Interactive: Warning Badge ── */
$('#warningBadge').addEventListener('click', function(e){
  e.stopPropagation();
  $('#alertOverlay').classList.add('visible');
});

$('#alertClose').addEventListener('click', function(){
  $('#alertOverlay').classList.remove('visible');
});

$('#alertOverlay').addEventListener('click', function(e){
  if(e.target === this) this.classList.remove('visible');
});

/* ── CTA Button (sandbox-safe) ── */
$('.cta-button').addEventListener('click', function(e) {
  e.preventDefault();
  var btn = this;
  btn.style.background = 'var(--accent-green)';
  btn.textContent = '\u2713 ' + (LOCALE === 'en' ? 'Demo completed' : 'Demo terminata');
  btn.style.cursor = 'default';
  btn.disabled = true;
});

/* ── Replay ── */
window.replayDemo = function(){
  runDemo();
};

/* ── Start ── */
runDemo();

})();
</script>
</body>
</html>
