<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title data-i18n="pageTitle">Document Intelligence Demo — Praxis AI</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --terracotta: #C15F3C;
    --cream: #F4F3EE;
    --charcoal: #141413;
    --mid: #b0aea5;
    --border: #e8e6dc;
    --highlight: rgba(193, 95, 60, 0.15);
    --highlight-active: rgba(193, 95, 60, 0.30);
    --green: #22863a;
    --yellow: #b08800;
    --red: #cb2431;
    --font-body: 'Inter', system-ui, -apple-system, sans-serif;
    --font-display: 'Caveat', cursive;
  }

  html { font-size: 16px; }

  body {
    font-family: var(--font-body);
    background: var(--cream);
    color: var(--charcoal);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    -webkit-font-smoothing: antialiased;
  }

  /* ── Header ─────────────────────────────────── */
  header {
    background: var(--charcoal);
    color: var(--cream);
    padding: 20px 40px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0;
  }

  .header-brand {
    display: flex;
    align-items: center;
    gap: 14px;
  }

  .header-logo {
    width: 36px;
    height: 36px;
    background: var(--terracotta);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 18px;
    color: #fff;
  }

  .header-name {
    font-family: var(--font-display);
    font-size: 28px;
    font-weight: 700;
    letter-spacing: 0.5px;
  }

  .header-title {
    font-size: 14px;
    color: var(--mid);
    letter-spacing: 1px;
    text-transform: uppercase;
  }

  .header-badge {
    display: inline-block;
    background: var(--terracotta);
    color: #fff;
    font-size: 11px;
    font-weight: 600;
    padding: 3px 10px;
    border-radius: 20px;
    margin-left: 12px;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    vertical-align: middle;
  }

  /* ── Main Layout ────────────────────────────── */
  main {
    flex: 1;
    display: flex;
    flex-direction: column;
    padding: 32px 40px;
    gap: 28px;
    max-width: 1440px;
    width: 100%;
    margin: 0 auto;
  }

  /* ── Section Titles ─────────────────────────── */
  .section-label {
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: var(--mid);
    margin-bottom: 12px;
  }

  /* ── Document Selector ──────────────────────── */
  .doc-selector {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
  }

  .doc-card {
    flex: 1;
    min-width: 220px;
    background: #fff;
    border: 2px solid var(--border);
    border-radius: 12px;
    padding: 22px 20px;
    cursor: pointer;
    transition: all 0.25s ease;
    display: flex;
    align-items: flex-start;
    gap: 14px;
    position: relative;
    overflow: hidden;
  }

  .doc-card:hover {
    border-color: var(--terracotta);
    transform: translateY(-2px);
    box-shadow: 0 6px 24px rgba(193, 95, 60, 0.10);
  }

  .doc-card.active {
    border-color: var(--terracotta);
    background: var(--highlight);
    box-shadow: 0 4px 20px rgba(193, 95, 60, 0.12);
  }

  .doc-card-icon {
    width: 44px;
    height: 44px;
    background: var(--cream);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    font-size: 20px;
  }

  .doc-card.active .doc-card-icon {
    background: var(--terracotta);
    color: #fff;
  }

  .doc-card-info h3 {
    font-size: 15px;
    font-weight: 600;
    margin-bottom: 4px;
  }

  .doc-card-info p {
    font-size: 13px;
    color: var(--mid);
    line-height: 1.4;
  }

  /* ── Split Panel ────────────────────────────── */
  .split-panel {
    display: flex;
    gap: 24px;
    flex: 1;
    min-height: 520px;
    opacity: 0;
    transform: translateY(12px);
    transition: all 0.4s ease;
    pointer-events: none;
  }

  .split-panel.visible {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }

  .panel {
    background: #fff;
    border: 1px solid var(--border);
    border-radius: 14px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  .panel-left {
    flex: 1.1;
    position: relative;
  }

  .panel-right {
    flex: 0.9;
  }

  .panel-header {
    padding: 16px 22px;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0;
  }

  .panel-header h2 {
    font-size: 14px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .panel-header-tag {
    font-size: 11px;
    font-weight: 500;
    background: var(--cream);
    color: var(--mid);
    padding: 3px 10px;
    border-radius: 20px;
  }

  .panel-body {
    flex: 1;
    overflow-y: auto;
    position: relative;
  }

  /* ── Scanner Animation ──────────────────────── */
  .scanner-line {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, transparent, var(--terracotta), transparent);
    z-index: 10;
    opacity: 0;
    pointer-events: none;
    box-shadow: 0 0 16px rgba(193, 95, 60, 0.4);
  }

  .scanner-line.scanning {
    opacity: 1;
    animation: scanDown 2.5s ease-in-out forwards;
  }

  @keyframes scanDown {
    0% { top: 0; }
    100% { top: 100%; }
  }

  /* ── Document Preview ───────────────────────── */
  .doc-preview {
    padding: 32px 36px;
    font-family: 'Georgia', 'Times New Roman', serif;
    font-size: 13px;
    line-height: 1.6;
    color: #333;
    min-height: 100%;
    background: #fff;
  }

  .doc-preview .doc-header-block {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 28px;
    padding-bottom: 20px;
    border-bottom: 2px solid #222;
  }

  .doc-preview .doc-company-logo {
    width: 48px;
    height: 48px;
    background: var(--charcoal);
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-family: var(--font-body);
    font-weight: 700;
    font-size: 16px;
    margin-bottom: 8px;
  }

  .doc-preview .doc-company-name {
    font-family: var(--font-body);
    font-weight: 700;
    font-size: 16px;
    color: var(--charcoal);
  }

  .doc-preview .doc-company-address {
    font-size: 11px;
    color: #777;
    line-height: 1.5;
    font-family: var(--font-body);
  }

  .doc-preview .doc-type-title {
    font-family: var(--font-body);
    font-size: 24px;
    font-weight: 700;
    text-align: right;
    color: var(--charcoal);
    text-transform: uppercase;
    letter-spacing: 2px;
  }

  .doc-preview .doc-meta-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 24px;
  }

  .doc-preview .doc-meta-group {
    font-family: var(--font-body);
    font-size: 12px;
  }

  .doc-preview .doc-meta-group label {
    display: block;
    font-weight: 600;
    color: #999;
    text-transform: uppercase;
    font-size: 10px;
    letter-spacing: 0.8px;
    margin-bottom: 2px;
  }

  .doc-preview .doc-meta-group span {
    color: var(--charcoal);
    font-weight: 500;
  }

  /* Highlight on extract */
  .doc-preview [data-field] {
    position: relative;
    transition: background 0.3s ease;
    border-radius: 2px;
    padding: 0 2px;
    margin: 0 -2px;
  }

  .doc-preview [data-field].highlighted {
    background: rgba(255, 200, 50, 0.35);
  }

  .doc-preview [data-field].highlighted::after {
    content: '';
    position: absolute;
    inset: -1px;
    border: 1.5px solid rgba(193, 95, 60, 0.5);
    border-radius: 3px;
    pointer-events: none;
  }

  /* Table in invoice */
  .doc-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-family: var(--font-body);
    font-size: 12px;
  }

  .doc-table th {
    background: #f5f5f0;
    text-align: left;
    padding: 10px 12px;
    font-weight: 600;
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: #777;
    border-bottom: 2px solid #ddd;
  }

  .doc-table td {
    padding: 10px 12px;
    border-bottom: 1px solid #eee;
    vertical-align: top;
  }

  .doc-table .text-right {
    text-align: right;
  }

  .doc-totals {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 6px;
    margin-top: 16px;
    font-family: var(--font-body);
    font-size: 13px;
  }

  .doc-totals .total-row {
    display: flex;
    gap: 40px;
    min-width: 220px;
    justify-content: space-between;
  }

  .doc-totals .total-row.grand {
    font-weight: 700;
    font-size: 15px;
    border-top: 2px solid #222;
    padding-top: 8px;
    margin-top: 4px;
  }

  .doc-totals .total-label {
    color: #777;
  }

  /* Contract style */
  .doc-preview .contract-title {
    font-family: var(--font-body);
    font-weight: 700;
    font-size: 20px;
    text-align: center;
    margin-bottom: 24px;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .doc-preview .contract-section {
    margin-bottom: 18px;
  }

  .doc-preview .contract-section-title {
    font-family: var(--font-body);
    font-weight: 700;
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 6px;
    color: #555;
  }

  .doc-preview .contract-text {
    font-size: 12.5px;
    line-height: 1.7;
    text-align: justify;
  }

  /* Claim form style */
  .doc-preview .form-field {
    display: flex;
    border-bottom: 1px solid #ddd;
    padding: 8px 0;
    font-family: var(--font-body);
    font-size: 12px;
  }

  .doc-preview .form-label {
    width: 180px;
    font-weight: 600;
    color: #555;
    flex-shrink: 0;
  }

  .doc-preview .form-value {
    flex: 1;
    color: var(--charcoal);
  }

  .doc-preview .form-section-title {
    font-family: var(--font-body);
    font-weight: 700;
    font-size: 13px;
    margin-top: 20px;
    margin-bottom: 10px;
    padding-bottom: 4px;
    border-bottom: 2px solid #ccc;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: #444;
  }

  /* ── Right Panel: Extracted Data ─────────────── */
  .extraction-progress {
    padding: 16px 22px;
    border-bottom: 1px solid var(--border);
    flex-shrink: 0;
  }

  .progress-label {
    display: flex;
    justify-content: space-between;
    font-size: 12px;
    font-weight: 500;
    color: var(--mid);
    margin-bottom: 8px;
  }

  .progress-bar-track {
    width: 100%;
    height: 6px;
    background: var(--cream);
    border-radius: 6px;
    overflow: hidden;
  }

  .progress-bar-fill {
    height: 100%;
    width: 0%;
    background: var(--terracotta);
    border-radius: 6px;
    transition: width 0.3s ease;
  }

  .extracted-list {
    padding: 12px 22px 22px;
    display: flex;
    flex-direction: column;
    gap: 0;
  }

  .extracted-item {
    display: flex;
    align-items: center;
    padding: 11px 0;
    border-bottom: 1px solid var(--border);
    opacity: 0;
    transform: translateX(16px);
    transition: all 0.35s ease;
  }

  .extracted-item.visible {
    opacity: 1;
    transform: translateX(0);
  }

  .extracted-item:last-child {
    border-bottom: none;
  }

  .extracted-field-name {
    font-size: 12px;
    font-weight: 500;
    color: var(--mid);
    width: 120px;
    flex-shrink: 0;
    text-transform: uppercase;
    letter-spacing: 0.3px;
  }

  .extracted-field-value {
    flex: 1;
    font-size: 14px;
    font-weight: 600;
    color: var(--charcoal);
    padding: 0 12px;
  }

  .extracted-confidence {
    font-size: 12px;
    font-weight: 600;
    padding: 3px 10px;
    border-radius: 20px;
    flex-shrink: 0;
    min-width: 52px;
    text-align: center;
  }

  .confidence-high {
    background: #e6f4ea;
    color: var(--green);
  }

  .confidence-medium {
    background: #fff8e1;
    color: var(--yellow);
  }

  .confidence-low {
    background: #fce8e6;
    color: var(--red);
  }

  /* ── Stats Bar ──────────────────────────────── */
  .stats-bar {
    background: var(--charcoal);
    border-radius: 12px;
    padding: 16px 28px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 16px;
    opacity: 0;
    transform: translateY(8px);
    transition: all 0.4s ease 0.2s;
    flex-shrink: 0;
  }

  .stats-bar.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .stat-item {
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--cream);
  }

  .stat-icon {
    width: 34px;
    height: 34px;
    background: rgba(255, 255, 255, 0.08);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
  }

  .stat-label {
    font-size: 11px;
    color: var(--mid);
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .stat-value {
    font-size: 18px;
    font-weight: 700;
  }

  .stat-badge {
    background: var(--terracotta);
    color: #fff;
    padding: 6px 16px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 600;
    letter-spacing: 0.3px;
  }

  /* ── Placeholder ────────────────────────────── */
  .placeholder-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 80px 40px;
    text-align: center;
    transition: all 0.3s ease;
  }

  .placeholder-icon {
    width: 80px;
    height: 80px;
    background: var(--cream);
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 36px;
    margin-bottom: 20px;
  }

  .placeholder-state h3 {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 8px;
  }

  .placeholder-state p {
    font-size: 14px;
    color: var(--mid);
    max-width: 320px;
    line-height: 1.5;
  }

  /* ── Processing Timer ───────────────────────── */
  .processing-time {
    padding: 12px 22px;
    border-top: 1px solid var(--border);
    font-size: 12px;
    color: var(--mid);
    display: flex;
    align-items: center;
    gap: 6px;
    flex-shrink: 0;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .processing-time.visible {
    opacity: 1;
  }

  .processing-time strong {
    color: var(--terracotta);
    font-weight: 700;
  }

  /* ── Responsive ─────────────────────────────── */
  @media (max-width: 900px) {
    main { padding: 20px; }
    header { padding: 16px 20px; }
    .split-panel { flex-direction: column; min-height: auto; }
    .panel-left, .panel-right { flex: none; }
    .panel-left { min-height: 400px; }
    .doc-selector { flex-direction: column; }
    .doc-card { min-width: auto; }
    .stats-bar { padding: 14px 20px; }
    .doc-preview { padding: 24px 20px; }
  }

  /* ── Scrollbar ──────────────────────────────── */
  .panel-body::-webkit-scrollbar { width: 5px; }
  .panel-body::-webkit-scrollbar-track { background: transparent; }
  .panel-body::-webkit-scrollbar-thumb { background: var(--border); border-radius: 4px; }
  .panel-body::-webkit-scrollbar-thumb:hover { background: var(--mid); }
</style>
</head>
<body>

<!-- ═══ Header ═══ -->
<header>
  <div class="header-brand">
    <div class="header-logo">P</div>
    <span class="header-name">Praxis AI</span>
  </div>
  <div>
    <span class="header-title" data-i18n="headerTitle">Document Intelligence</span>
    <span class="header-badge" data-i18n="headerBadge">Demo</span>
  </div>
</header>

<!-- ═══ Main ═══ -->
<main>

  <!-- Document Selector -->
  <div>
    <div class="section-label" data-i18n="sectionLabel">Select a Document</div>
    <div class="doc-selector">
      <div class="doc-card" data-doc="invoice" onclick="selectDocument('invoice')">
        <div class="doc-card-icon">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
        </div>
        <div class="doc-card-info">
          <h3 data-i18n="invoiceTitle">Invoice #INV-2024-0847</h3>
          <p data-i18n="invoiceDesc">Vendor invoice with line items, tax, and payment terms</p>
        </div>
      </div>
      <div class="doc-card" data-doc="contract" onclick="selectDocument('contract')">
        <div class="doc-card-icon">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><line x1="10" y1="9" x2="8" y2="9"/></svg>
        </div>
        <div class="doc-card-info">
          <h3 data-i18n="contractTitle">Employment Contract</h3>
          <p data-i18n="contractDesc">Full employment agreement with compensation and terms</p>
        </div>
      </div>
      <div class="doc-card" data-doc="claim" onclick="selectDocument('claim')">
        <div class="doc-card-icon">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><path d="M12 18v-6"/><path d="M9 15l3 3 3-3"/></svg>
        </div>
        <div class="doc-card-info">
          <h3 data-i18n="claimTitle">Insurance Claim Form</h3>
          <p data-i18n="claimDesc">Auto collision claim with damage assessment details</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Placeholder -->
  <div id="placeholder" class="placeholder-state">
    <div class="placeholder-icon">
      <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="var(--mid)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
    </div>
    <h3 data-i18n="placeholderTitle">Select a document to begin</h3>
    <p data-i18n="placeholderDesc">Choose one of the sample documents above to see AI-powered data extraction in action.</p>
  </div>

  <!-- Split Panel -->
  <div id="splitPanel" class="split-panel">
    <!-- Left: Document Preview -->
    <div class="panel panel-left">
      <div class="panel-header">
        <h2>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="21" x2="9" y2="9"/></svg>
          <span data-i18n="panelDocPreview">Document Preview</span>
        </h2>
        <span class="panel-header-tag" id="docTypeTag">PDF</span>
      </div>
      <div class="panel-body" id="docPreviewBody">
        <div class="scanner-line" id="scannerLine"></div>
        <div class="doc-preview" id="docPreview"></div>
      </div>
    </div>

    <!-- Right: Extracted Data -->
    <div class="panel panel-right">
      <div class="panel-header">
        <h2>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
          <span data-i18n="panelExtractedData">Extracted Data</span>
        </h2>
        <span class="panel-header-tag" id="fieldCountTag" data-i18n="zeroFields">0 fields</span>
      </div>
      <div class="extraction-progress" id="progressSection">
        <div class="progress-label">
          <span id="progressLabel" data-i18n="analyzingDoc">Analyzing document...</span>
          <span id="progressPercent">0%</span>
        </div>
        <div class="progress-bar-track">
          <div class="progress-bar-fill" id="progressBar"></div>
        </div>
      </div>
      <div class="panel-body">
        <div class="extracted-list" id="extractedList"></div>
      </div>
      <div class="processing-time" id="processingTime">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
        <span data-i18n="processedIn">Processed in</span> <strong id="timeValue">0.0s</strong>
      </div>
    </div>
  </div>

  <!-- Stats Bar -->
  <div class="stats-bar" id="statsBar">
    <div class="stat-item">
      <div class="stat-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
      </div>
      <div>
        <div class="stat-label" data-i18n="statFieldsExtracted">Fields Extracted</div>
        <div class="stat-value" id="statFields">--</div>
      </div>
    </div>
    <div class="stat-item">
      <div class="stat-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
      </div>
      <div>
        <div class="stat-label" data-i18n="statAvgConfidence">Avg. Confidence</div>
        <div class="stat-value" id="statConfidence">--</div>
      </div>
    </div>
    <div class="stat-item">
      <div class="stat-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
      </div>
      <div>
        <div class="stat-label" data-i18n="statProcessingTime">Processing Time</div>
        <div class="stat-value" id="statTime">--</div>
      </div>
    </div>
    <div class="stat-badge" data-i18n="statAccuracy">95%+ Accuracy</div>
  </div>

</main>

<script>
// --- i18n ---
const LOCALE = window.__PRAXIS_LOCALE__ || 'it';
const T = {
  en: {
    pageTitle: 'Document Intelligence Demo — Praxis AI',
    headerTitle: 'Document Intelligence',
    headerBadge: 'Demo',
    sectionLabel: 'Select a Document',
    invoiceTitle: 'Invoice #INV-2024-0847',
    invoiceDesc: 'Vendor invoice with line items, tax, and payment terms',
    contractTitle: 'Employment Contract',
    contractDesc: 'Full employment agreement with compensation and terms',
    claimTitle: 'Insurance Claim Form',
    claimDesc: 'Auto collision claim with damage assessment details',
    placeholderTitle: 'Select a document to begin',
    placeholderDesc: 'Choose one of the sample documents above to see AI-powered data extraction in action.',
    panelDocPreview: 'Document Preview',
    panelExtractedData: 'Extracted Data',
    zeroFields: '0 fields',
    analyzingDoc: 'Analyzing document...',
    extractionComplete: 'Extraction complete',
    processedIn: 'Processed in',
    statFieldsExtracted: 'Fields Extracted',
    statAvgConfidence: 'Avg. Confidence',
    statProcessingTime: 'Processing Time',
    statAccuracy: '95%+ Accuracy',
    fieldSuffix: 'field',
    fieldsSuffix: 'fields',
    // Invoice field names
    fVendor: 'Vendor',
    fInvoiceNo: 'Invoice No.',
    fDate: 'Date',
    fDueDate: 'Due Date',
    fItem1: 'Item 1',
    fItem2: 'Item 2',
    fItem3: 'Item 3',
    fSubtotal: 'Subtotal',
    fTax: 'Tax (9%)',
    fTotal: 'Total',
    // Invoice field values
    vItem1: 'Cloud Server License x2 @ $1,200',
    vItem2: 'API Gateway Setup x1 @ $850',
    vItem3: 'Support Plan (Annual) x1 @ $1,000',
    // Contract field names
    fPartyA: 'Party A',
    fPartyB: 'Party B',
    fEffectiveDate: 'Effective Date',
    fPosition: 'Position',
    fSalary: 'Salary',
    fDuration: 'Duration',
    fNoticePeriod: 'Notice Period',
    fNonCompete: 'Non-Compete',
    // Contract field values
    vDuration: '24 months',
    vNoticePeriod: '30 days',
    vNonCompete: '12 months, 50mi radius',
    // Claim field names
    fClaimNo: 'Claim No.',
    fPolicyHolder: 'Policy Holder',
    fPolicyNo: 'Policy No.',
    fIncidentDate: 'Incident Date',
    fClaimType: 'Claim Type',
    fEstDamage: 'Est. Damage',
    fDeductible: 'Deductible',
    // Claim field values
    vClaimType: 'Auto - Collision',
    // Invoice preview labels
    pInvoiceNumber: 'Invoice Number',
    pDateIssued: 'Date Issued',
    pDueDate: 'Due Date',
    pPaymentTerms: 'Payment Terms',
    pBillTo: 'Bill To',
    pDescription: 'Description',
    pQty: 'Qty',
    pUnitPrice: 'Unit Price',
    pAmount: 'Amount',
    pSubtotal: 'Subtotal',
    pSalesTax: 'Sales Tax (9%)',
    pTotalDue: 'Total Due',
    pInvoiceNote: 'Payment is due within 30 days of invoice date. Please include invoice number on all correspondence. Wire transfers accepted. Late payments subject to 1.5% monthly interest.',
    pInvoiceTypeTitle: 'Invoice',
    // Contract preview labels
    pConfidential: 'Confidential',
    pEmploymentAgreement: 'Employment Agreement',
    pEffectiveDate: 'Effective Date:',
    pSectionParties: '1. Parties',
    pPartiesText1: 'This Employment Agreement ("Agreement") is entered into between',
    pPartiesText2: ', a Delaware corporation with principal offices at 500 Market Street, San Francisco, CA 94105 ("Employer"), and',
    pPartiesText3: ', an individual residing at 742 Evergreen Terrace, Springfield, IL 62704 ("Employee").',
    pSectionPosition: '2. Position & Duties',
    pPositionText1: 'Employee shall serve in the role of',
    pPositionText2: 'and shall report directly to the VP of Engineering. Employee agrees to devote full-time professional efforts to the duties and responsibilities assigned by the Employer.',
    pSectionCompensation: '3. Compensation',
    pCompText1: 'Employer agrees to pay Employee a base annual salary of',
    pCompText2: ', payable in accordance with Employer\'s standard payroll schedule. Employee shall also be eligible for an annual performance bonus of up to 15% of base salary, subject to meeting performance objectives established by management.',
    pSectionTerm: '4. Term',
    pTermText1: 'This Agreement shall be effective for a period of',
    pTermText2: 'from the Effective Date, subject to earlier termination as provided herein. Either party may terminate this Agreement with',
    pTermText3: 'prior written notice to the other party.',
    pSectionNonCompete: '5. Non-Competition',
    pNonCompeteText1: 'Upon termination, Employee agrees not to engage in competing business activities for a period of',
    pNonCompeteText2: 'within a',
    pNonCompeteText3: 'of any Employer office location. This restriction applies to direct employment, consulting, and advisory roles with competitors in the same market segment.',
    p50miRadius: '50-mile radius',
    pAuthorizedSignatory: 'Authorized Signatory',
    pEmployee: 'Employee',
    // Claim preview labels
    pInsuranceClaimDiv: 'Insurance Claim Division',
    pClaimForm: 'Claim Form',
    pFormRevision: 'Form CL-200 Rev. 2023',
    pClaimInformation: 'Claim Information',
    pClaimNumber: 'Claim Number',
    pDateFiled: 'Date Filed',
    pClaimTypeLabel: 'Claim Type',
    pPolicyholderDetails: 'Policyholder Details',
    pFullName: 'Full Name',
    pPolicyNumber: 'Policy Number',
    pAddress: 'Address',
    pPhone: 'Phone',
    pIncidentDetails: 'Incident Details',
    pDateOfIncident: 'Date of Incident',
    pLocation: 'Location',
    pDescriptionLabel: 'Description',
    pIncidentDescription: 'Vehicle was struck on the rear passenger side by another vehicle that ran a red light at the intersection. Police report filed (#BPD-2023-44291). Other driver cited for failure to obey traffic signal.',
    pFinancialSummary: 'Financial Summary',
    pEstimatedDamage: 'Estimated Damage',
    pDeductible: 'Deductible',
    pNetClaimAmount: 'Net Claim Amount',
    pClaimCertification: 'By signing below, I certify that the information provided is true and accurate to the best of my knowledge. I understand that any false statements may result in denial of my claim.',
    pPolicyholderSignature: 'Policyholder Signature',
  },
  it: {
    pageTitle: 'Demo Document Intelligence — Praxis AI',
    headerTitle: 'Document Intelligence',
    headerBadge: 'Demo',
    sectionLabel: 'Seleziona un Documento',
    invoiceTitle: 'Fattura #INV-2024-0847',
    invoiceDesc: 'Fattura fornitore con voci, imposte e termini di pagamento',
    contractTitle: 'Contratto di Lavoro',
    contractDesc: 'Contratto di assunzione completo con compenso e condizioni',
    claimTitle: 'Modulo Richiesta Risarcimento',
    claimDesc: 'Richiesta risarcimento auto con dettagli del danno',
    placeholderTitle: 'Seleziona un documento per iniziare',
    placeholderDesc: 'Scegli uno dei documenti sopra per vedere l\'estrazione dati basata su AI in azione.',
    panelDocPreview: 'Anteprima Documento',
    panelExtractedData: 'Dati Estratti',
    zeroFields: '0 campi',
    analyzingDoc: 'Analisi del documento...',
    extractionComplete: 'Estrazione completata',
    processedIn: 'Elaborato in',
    statFieldsExtracted: 'Campi Estratti',
    statAvgConfidence: 'Affidabilit\u00E0 Media',
    statProcessingTime: 'Tempo di Elaborazione',
    statAccuracy: 'Accuratezza 95%+',
    fieldSuffix: 'campo',
    fieldsSuffix: 'campi',
    // Invoice field names
    fVendor: 'Fornitore',
    fInvoiceNo: 'N. Fattura',
    fDate: 'Data',
    fDueDate: 'Scadenza',
    fItem1: 'Voce 1',
    fItem2: 'Voce 2',
    fItem3: 'Voce 3',
    fSubtotal: 'Subtotale',
    fTax: 'IVA (9%)',
    fTotal: 'Totale',
    // Invoice field values
    vItem1: 'Licenza Cloud Server x2 @ $1.200',
    vItem2: 'Setup API Gateway x1 @ $850',
    vItem3: 'Piano Supporto (Annuale) x1 @ $1.000',
    // Contract field names
    fPartyA: 'Parte A',
    fPartyB: 'Parte B',
    fEffectiveDate: 'Data Decorrenza',
    fPosition: 'Posizione',
    fSalary: 'Retribuzione',
    fDuration: 'Durata',
    fNoticePeriod: 'Preavviso',
    fNonCompete: 'Non Concorrenza',
    // Contract field values
    vDuration: '24 mesi',
    vNoticePeriod: '30 giorni',
    vNonCompete: '12 mesi, raggio 80 km',
    // Claim field names
    fClaimNo: 'N. Pratica',
    fPolicyHolder: 'Assicurato',
    fPolicyNo: 'N. Polizza',
    fIncidentDate: 'Data Sinistro',
    fClaimType: 'Tipo Sinistro',
    fEstDamage: 'Danno Stimato',
    fDeductible: 'Franchigia',
    // Claim field values
    vClaimType: 'Auto - Collisione',
    // Invoice preview labels
    pInvoiceNumber: 'Numero Fattura',
    pDateIssued: 'Data Emissione',
    pDueDate: 'Data Scadenza',
    pPaymentTerms: 'Termini di Pagamento',
    pBillTo: 'Destinatario',
    pDescription: 'Descrizione',
    pQty: 'Qt\u00E0',
    pUnitPrice: 'Prezzo Unitario',
    pAmount: 'Importo',
    pSubtotal: 'Subtotale',
    pSalesTax: 'IVA (9%)',
    pTotalDue: 'Totale Dovuto',
    pInvoiceNote: 'Il pagamento \u00E8 dovuto entro 30 giorni dalla data della fattura. Si prega di indicare il numero di fattura in tutta la corrispondenza. Accettati bonifici bancari. Interessi dell\'1,5% mensile sui pagamenti in ritardo.',
    pInvoiceTypeTitle: 'Fattura',
    // Contract preview labels
    pConfidential: 'Riservato',
    pEmploymentAgreement: 'Contratto di Lavoro',
    pEffectiveDate: 'Data Decorrenza:',
    pSectionParties: '1. Parti',
    pPartiesText1: 'Il presente Contratto di Lavoro ("Contratto") \u00E8 stipulato tra',
    pPartiesText2: ', societ\u00E0 del Delaware con sede principale in 500 Market Street, San Francisco, CA 94105 ("Datore di Lavoro"), e',
    pPartiesText3: ', residente in 742 Evergreen Terrace, Springfield, IL 62704 ("Dipendente").',
    pSectionPosition: '2. Posizione e Mansioni',
    pPositionText1: 'Il Dipendente ricoprir\u00E0 il ruolo di',
    pPositionText2: 'e risponder\u00E0 direttamente al VP of Engineering. Il Dipendente si impegna a dedicare il proprio impegno professionale a tempo pieno alle mansioni assegnate dal Datore di Lavoro.',
    pSectionCompensation: '3. Retribuzione',
    pCompText1: 'Il Datore di Lavoro si impegna a corrispondere al Dipendente uno stipendio base annuo di',
    pCompText2: ', pagabile secondo il calendario retributivo standard del Datore di Lavoro. Il Dipendente avr\u00E0 inoltre diritto a un bonus annuale fino al 15% dello stipendio base, subordinato al raggiungimento degli obiettivi stabiliti dalla direzione.',
    pSectionTerm: '4. Durata',
    pTermText1: 'Il presente Contratto avr\u00E0 efficacia per un periodo di',
    pTermText2: 'dalla Data di Decorrenza, salvo risoluzione anticipata. Ciascuna parte potr\u00E0 recedere dal Contratto con un preavviso scritto di',
    pTermText3: 'all\'altra parte.',
    pSectionNonCompete: '5. Non Concorrenza',
    pNonCompeteText1: 'Alla cessazione del rapporto, il Dipendente si impegna a non svolgere attivit\u00E0 in concorrenza per un periodo di',
    pNonCompeteText2: 'entro un',
    pNonCompeteText3: 'da qualsiasi sede del Datore di Lavoro. Questa restrizione si applica a impiego diretto, consulenza e ruoli di advisory presso concorrenti nello stesso segmento di mercato.',
    p50miRadius: 'raggio di 80 km',
    pAuthorizedSignatory: 'Firmatario Autorizzato',
    pEmployee: 'Dipendente',
    // Claim preview labels
    pInsuranceClaimDiv: 'Divisione Sinistri',
    pClaimForm: 'Modulo Sinistro',
    pFormRevision: 'Modulo CL-200 Rev. 2023',
    pClaimInformation: 'Informazioni Sinistro',
    pClaimNumber: 'Numero Pratica',
    pDateFiled: 'Data Apertura',
    pClaimTypeLabel: 'Tipo Sinistro',
    pPolicyholderDetails: 'Dati Assicurato',
    pFullName: 'Nome Completo',
    pPolicyNumber: 'Numero Polizza',
    pAddress: 'Indirizzo',
    pPhone: 'Telefono',
    pIncidentDetails: 'Dettagli Sinistro',
    pDateOfIncident: 'Data del Sinistro',
    pLocation: 'Luogo',
    pDescriptionLabel: 'Descrizione',
    pIncidentDescription: 'Il veicolo \u00E8 stato colpito sul lato posteriore del passeggero da un altro veicolo che ha ignorato il semaforo rosso all\'incrocio. Rapporto di polizia depositato (#BPD-2023-44291). L\'altro conducente sanzionato per mancato rispetto del segnale stradale.',
    pFinancialSummary: 'Riepilogo Finanziario',
    pEstimatedDamage: 'Danno Stimato',
    pDeductible: 'Franchigia',
    pNetClaimAmount: 'Importo Netto Risarcimento',
    pClaimCertification: 'Con la firma sottostante, dichiaro che le informazioni fornite sono veritiere e accurate al meglio delle mie conoscenze. Comprendo che dichiarazioni false possono comportare il rigetto della richiesta.',
    pPolicyholderSignature: 'Firma dell\'Assicurato',
  },
}[LOCALE];

// Apply i18n to static HTML elements
document.querySelectorAll('[data-i18n]').forEach(function(el) {
  var key = el.getAttribute('data-i18n');
  if (T[key] !== undefined) el.textContent = T[key];
});
document.querySelectorAll('[data-i18n-placeholder]').forEach(function(el) {
  var key = el.getAttribute('data-i18n-placeholder');
  if (T[key] !== undefined) el.placeholder = T[key];
});
document.title = T.pageTitle;

// ═══════════════════════════════════════════════
//  Document Data
// ═══════════════════════════════════════════════

const documents = {
  invoice: {
    type: 'PDF',
    time: '1.2s',
    fields: [
      { name: T.fVendor, value: 'TechSupply Co.', confidence: 98 },
      { name: T.fInvoiceNo, value: 'INV-2024-0847', confidence: 99 },
      { name: T.fDate, value: 'January 15, 2024', confidence: 97 },
      { name: T.fDueDate, value: 'February 15, 2024', confidence: 96 },
      { name: T.fItem1, value: T.vItem1, confidence: 97 },
      { name: T.fItem2, value: T.vItem2, confidence: 96 },
      { name: T.fItem3, value: T.vItem3, confidence: 95 },
      { name: T.fSubtotal, value: '$4,250.00', confidence: 99 },
      { name: T.fTax, value: '$382.50', confidence: 98 },
      { name: T.fTotal, value: '$4,632.50', confidence: 99 },
    ],
    preview: `
      <div class="doc-header-block">
        <div>
          <div class="doc-company-logo">TS</div>
          <div class="doc-company-name" data-field="vendor">TechSupply Co.</div>
          <div class="doc-company-address">
            2847 Innovation Drive, Suite 300<br>
            San Francisco, CA 94105<br>
            billing@techsupply.co
          </div>
        </div>
        <div style="text-align:right">
          <div class="doc-type-title">${T.pInvoiceTypeTitle}</div>
        </div>
      </div>

      <div class="doc-meta-row">
        <div class="doc-meta-group">
          <label>${T.pInvoiceNumber}</label>
          <span data-field="invoice_no">INV-2024-0847</span>
        </div>
        <div class="doc-meta-group">
          <label>${T.pDateIssued}</label>
          <span data-field="date">January 15, 2024</span>
        </div>
        <div class="doc-meta-group">
          <label>${T.pDueDate}</label>
          <span data-field="due_date">February 15, 2024</span>
        </div>
        <div class="doc-meta-group">
          <label>${T.pPaymentTerms}</label>
          <span>Net 30</span>
        </div>
      </div>

      <div class="doc-meta-row" style="margin-bottom:8px">
        <div class="doc-meta-group">
          <label>${T.pBillTo}</label>
          <span>Meridian Dynamics Inc.<br>
          <span style="color:#777;font-size:11px">1200 Park Avenue, New York, NY 10128</span></span>
        </div>
      </div>

      <table class="doc-table">
        <thead>
          <tr>
            <th style="width:45%">${T.pDescription}</th>
            <th style="width:10%">${T.pQty}</th>
            <th class="text-right" style="width:20%">${T.pUnitPrice}</th>
            <th class="text-right" style="width:25%">${T.pAmount}</th>
          </tr>
        </thead>
        <tbody>
          <tr data-field="item1">
            <td>Cloud Server License (Enterprise)</td>
            <td>2</td>
            <td class="text-right">$1,200.00</td>
            <td class="text-right">$2,400.00</td>
          </tr>
          <tr data-field="item2">
            <td>API Gateway Setup & Configuration</td>
            <td>1</td>
            <td class="text-right">$850.00</td>
            <td class="text-right">$850.00</td>
          </tr>
          <tr data-field="item3">
            <td>Premium Support Plan (Annual)</td>
            <td>1</td>
            <td class="text-right">$1,000.00</td>
            <td class="text-right">$1,000.00</td>
          </tr>
        </tbody>
      </table>

      <div class="doc-totals">
        <div class="total-row" data-field="subtotal">
          <span class="total-label">${T.pSubtotal}</span>
          <span>$4,250.00</span>
        </div>
        <div class="total-row" data-field="tax">
          <span class="total-label">${T.pSalesTax}</span>
          <span>$382.50</span>
        </div>
        <div class="total-row grand" data-field="total">
          <span class="total-label">${T.pTotalDue}</span>
          <span>$4,632.50</span>
        </div>
      </div>

      <div style="margin-top:32px;padding-top:16px;border-top:1px solid #eee;font-family:var(--font-body);font-size:11px;color:#999;line-height:1.5">
        ${T.pInvoiceNote}
      </div>
    `
  },

  contract: {
    type: 'DOCX',
    time: '1.8s',
    fields: [
      { name: T.fPartyA, value: 'Acme Corp', confidence: 97 },
      { name: T.fPartyB, value: 'Jane Smith', confidence: 96 },
      { name: T.fEffectiveDate, value: 'March 1, 2024', confidence: 98 },
      { name: T.fPosition, value: 'Senior Developer', confidence: 99 },
      { name: T.fSalary, value: '$145,000/year', confidence: 97 },
      { name: T.fDuration, value: T.vDuration, confidence: 95 },
      { name: T.fNoticePeriod, value: T.vNoticePeriod, confidence: 94 },
      { name: T.fNonCompete, value: T.vNonCompete, confidence: 91 },
    ],
    preview: `
      <div style="text-align:center;margin-bottom:12px">
        <div style="font-family:var(--font-body);font-size:11px;color:#999;letter-spacing:1px;text-transform:uppercase">${T.pConfidential}</div>
      </div>
      <div class="contract-title">${T.pEmploymentAgreement}</div>

      <div style="text-align:center;margin-bottom:28px;font-family:var(--font-body);font-size:12px;color:#777">
        ${T.pEffectiveDate} <span data-field="effective_date" style="color:#333;font-weight:600">March 1, 2024</span>
      </div>

      <div class="contract-section">
        <div class="contract-section-title">${T.pSectionParties}</div>
        <div class="contract-text">
          ${T.pPartiesText1}
          <span data-field="party_a" style="font-weight:700">Acme Corp</span>${T.pPartiesText2}
          <span data-field="party_b" style="font-weight:700">Jane Smith</span>${T.pPartiesText3}
        </div>
      </div>

      <div class="contract-section">
        <div class="contract-section-title">${T.pSectionPosition}</div>
        <div class="contract-text">
          ${T.pPositionText1} <span data-field="position" style="font-weight:700">Senior Developer</span>
          ${T.pPositionText2}
        </div>
      </div>

      <div class="contract-section">
        <div class="contract-section-title">${T.pSectionCompensation}</div>
        <div class="contract-text">
          ${T.pCompText1}
          <span data-field="salary" style="font-weight:700">$145,000/year</span>${T.pCompText2}
        </div>
      </div>

      <div class="contract-section">
        <div class="contract-section-title">${T.pSectionTerm}</div>
        <div class="contract-text">
          ${T.pTermText1}
          <span data-field="duration" style="font-weight:700">${T.vDuration}</span>
          ${T.pTermText2}
          <span data-field="notice_period" style="font-weight:700">${T.vNoticePeriod}</span>
          ${T.pTermText3}
        </div>
      </div>

      <div class="contract-section">
        <div class="contract-section-title">${T.pSectionNonCompete}</div>
        <div class="contract-text">
          ${T.pNonCompeteText1}
          <span data-field="non_compete" style="font-weight:700">12 ${LOCALE === 'it' ? 'mesi' : 'months'}</span> ${T.pNonCompeteText2}
          <span style="font-weight:700">${T.p50miRadius}</span> ${T.pNonCompeteText3}
        </div>
      </div>

      <div style="margin-top:32px;display:flex;justify-content:space-between;font-family:var(--font-body);font-size:12px">
        <div>
          <div style="border-top:1px solid #333;width:200px;padding-top:8px;margin-top:40px">
            <strong>Acme Corp</strong><br>
            <span style="color:#999">${T.pAuthorizedSignatory}</span>
          </div>
        </div>
        <div>
          <div style="border-top:1px solid #333;width:200px;padding-top:8px;margin-top:40px">
            <strong>Jane Smith</strong><br>
            <span style="color:#999">${T.pEmployee}</span>
          </div>
        </div>
      </div>
    `
  },

  claim: {
    type: 'PDF',
    time: '1.4s',
    fields: [
      { name: T.fClaimNo, value: 'CLM-2024-12847', confidence: 99 },
      { name: T.fPolicyHolder, value: 'Robert Johnson', confidence: 97 },
      { name: T.fPolicyNo, value: 'POL-889234', confidence: 98 },
      { name: T.fIncidentDate, value: 'December 3, 2023', confidence: 96 },
      { name: T.fClaimType, value: T.vClaimType, confidence: 98 },
      { name: T.fEstDamage, value: '$8,750.00', confidence: 94 },
      { name: T.fDeductible, value: '$500.00', confidence: 99 },
    ],
    preview: `
      <div class="doc-header-block">
        <div>
          <div class="doc-company-logo" style="background:#1a5276;border-radius:50%">SI</div>
          <div class="doc-company-name">SafeGuard Insurance</div>
          <div class="doc-company-address">
            ${T.pInsuranceClaimDiv}<br>
            P.O. Box 44820, Hartford, CT 06144<br>
            claims@safeguardins.com | 1-800-555-0199
          </div>
        </div>
        <div style="text-align:right">
          <div class="doc-type-title" style="font-size:18px;letter-spacing:1px">${T.pClaimForm}</div>
          <div style="font-family:var(--font-body);font-size:11px;color:#999;margin-top:4px">${T.pFormRevision}</div>
        </div>
      </div>

      <div class="form-section-title">${T.pClaimInformation}</div>
      <div class="form-field">
        <div class="form-label">${T.pClaimNumber}</div>
        <div class="form-value" data-field="claim_no">CLM-2024-12847</div>
      </div>
      <div class="form-field">
        <div class="form-label">${T.pDateFiled}</div>
        <div class="form-value">December 5, 2023</div>
      </div>
      <div class="form-field">
        <div class="form-label">${T.pClaimTypeLabel}</div>
        <div class="form-value" data-field="claim_type">${T.vClaimType}</div>
      </div>

      <div class="form-section-title">${T.pPolicyholderDetails}</div>
      <div class="form-field">
        <div class="form-label">${T.pFullName}</div>
        <div class="form-value" data-field="policy_holder">Robert Johnson</div>
      </div>
      <div class="form-field">
        <div class="form-label">${T.pPolicyNumber}</div>
        <div class="form-value" data-field="policy_no">POL-889234</div>
      </div>
      <div class="form-field">
        <div class="form-label">${T.pAddress}</div>
        <div class="form-value">385 Oak Street, Apt 12B, Boston, MA 02116</div>
      </div>
      <div class="form-field">
        <div class="form-label">${T.pPhone}</div>
        <div class="form-value">(617) 555-0342</div>
      </div>

      <div class="form-section-title">${T.pIncidentDetails}</div>
      <div class="form-field">
        <div class="form-label">${T.pDateOfIncident}</div>
        <div class="form-value" data-field="incident_date">December 3, 2023</div>
      </div>
      <div class="form-field">
        <div class="form-label">${T.pLocation}</div>
        <div class="form-value">Intersection of Main St & 5th Ave, Boston, MA</div>
      </div>
      <div class="form-field">
        <div class="form-label">${T.pDescriptionLabel}</div>
        <div class="form-value" style="font-size:11.5px;line-height:1.5">
          ${T.pIncidentDescription}
        </div>
      </div>

      <div class="form-section-title">${T.pFinancialSummary}</div>
      <div class="form-field">
        <div class="form-label">${T.pEstimatedDamage}</div>
        <div class="form-value" data-field="est_damage" style="font-weight:700">$8,750.00</div>
      </div>
      <div class="form-field">
        <div class="form-label">${T.pDeductible}</div>
        <div class="form-value" data-field="deductible">$500.00</div>
      </div>
      <div class="form-field" style="border-bottom:2px solid #333">
        <div class="form-label" style="font-weight:700">${T.pNetClaimAmount}</div>
        <div class="form-value" style="font-weight:700">$8,250.00</div>
      </div>

      <div style="margin-top:24px;font-family:var(--font-body);font-size:11px;color:#999;line-height:1.5">
        ${T.pClaimCertification}
      </div>
      <div style="margin-top:20px;border-top:1px solid #333;width:200px;padding-top:8px;font-family:var(--font-body);font-size:12px">
        <strong>Robert Johnson</strong><br>
        <span style="color:#999">${T.pPolicyholderSignature}</span>
      </div>
    `
  }
};

// Field-to-data-field mapping for highlights
const fieldMapping = {
  invoice: {
    0: 'vendor',
    1: 'invoice_no',
    2: 'date',
    3: 'due_date',
    4: 'item1',
    5: 'item2',
    6: 'item3',
    7: 'subtotal',
    8: 'tax',
    9: 'total',
  },
  contract: {
    0: 'party_a',
    1: 'party_b',
    2: 'effective_date',
    3: 'position',
    4: 'salary',
    5: 'duration',
    6: 'notice_period',
    7: 'non_compete',
  },
  claim: {
    0: 'claim_no',
    1: 'policy_holder',
    2: 'policy_no',
    3: 'incident_date',
    4: 'claim_type',
    5: 'est_damage',
    6: 'deductible',
  }
};

// ═══════════════════════════════════════════════
//  State
// ═══════════════════════════════════════════════
let currentDoc = null;
let animationTimer = null;
let fieldTimers = [];

// ═══════════════════════════════════════════════
//  Select Document
// ═══════════════════════════════════════════════
function selectDocument(docKey) {
  // Prevent re-selecting the same doc while animating
  if (currentDoc === docKey) return;
  currentDoc = docKey;

  // Clear previous animations
  if (animationTimer) clearTimeout(animationTimer);
  fieldTimers.forEach(t => clearTimeout(t));
  fieldTimers = [];

  const doc = documents[docKey];

  // Update card active states
  document.querySelectorAll('.doc-card').forEach(card => {
    card.classList.toggle('active', card.dataset.doc === docKey);
  });

  // Hide placeholder, show split panel
  document.getElementById('placeholder').style.display = 'none';
  const splitPanel = document.getElementById('splitPanel');
  splitPanel.classList.add('visible');

  // Set doc type tag
  document.getElementById('docTypeTag').textContent = doc.type;

  // Render document preview
  document.getElementById('docPreview').innerHTML = doc.preview;

  // Reset right panel
  document.getElementById('extractedList').innerHTML = '';
  document.getElementById('progressBar').style.width = '0%';
  document.getElementById('progressPercent').textContent = '0%';
  document.getElementById('progressLabel').textContent = T.analyzingDoc;
  document.getElementById('fieldCountTag').textContent = '0 ' + T.fieldsSuffix;
  document.getElementById('processingTime').classList.remove('visible');
  document.getElementById('statsBar').classList.remove('visible');

  // Remove old scanner class and force reflow
  const scannerLine = document.getElementById('scannerLine');
  scannerLine.classList.remove('scanning');
  void scannerLine.offsetWidth; // force reflow

  // Start scanning animation
  setTimeout(() => {
    scannerLine.classList.add('scanning');
  }, 100);

  // Start field extraction after short delay
  animationTimer = setTimeout(() => {
    startExtraction(docKey, doc);
  }, 600);
}

// ═══════════════════════════════════════════════
//  Extraction Animation
// ═══════════════════════════════════════════════
function startExtraction(docKey, doc) {
  const fields = doc.fields;
  const totalFields = fields.length;
  const mapping = fieldMapping[docKey];
  const intervalBase = 180;
  const extractedList = document.getElementById('extractedList');

  // Build all items (hidden)
  fields.forEach((field, i) => {
    const confClass = field.confidence >= 95 ? 'confidence-high'
                    : field.confidence >= 85 ? 'confidence-medium'
                    : 'confidence-low';

    const item = document.createElement('div');
    item.className = 'extracted-item';
    item.id = `field-${i}`;
    item.innerHTML = `
      <div class="extracted-field-name">${field.name}</div>
      <div class="extracted-field-value">${field.value}</div>
      <div class="extracted-confidence ${confClass}">${field.confidence}%</div>
    `;
    extractedList.appendChild(item);
  });

  // Reveal fields one by one
  fields.forEach((field, i) => {
    const delay = i * intervalBase + Math.random() * 80;
    const timer = setTimeout(() => {
      // Show extracted item
      const item = document.getElementById(`field-${i}`);
      if (item) item.classList.add('visible');

      // Highlight on document
      const dataField = mapping[i];
      if (dataField) {
        const el = document.querySelector(`[data-field="${dataField}"]`);
        if (el) el.classList.add('highlighted');
      }

      // Update progress
      const progress = Math.round(((i + 1) / totalFields) * 100);
      document.getElementById('progressBar').style.width = progress + '%';
      document.getElementById('progressPercent').textContent = progress + '%';
      document.getElementById('fieldCountTag').textContent = (i + 1) + ' ' + ((i + 1) > 1 ? T.fieldsSuffix : T.fieldSuffix);

      if (i === totalFields - 1) {
        // Extraction complete
        setTimeout(() => {
          document.getElementById('progressLabel').textContent = T.extractionComplete;
          showStats(doc);
        }, 200);
      }
    }, delay);
    fieldTimers.push(timer);
  });
}

// ═══════════════════════════════════════════════
//  Show Stats
// ═══════════════════════════════════════════════
function showStats(doc) {
  const fields = doc.fields;
  const avgConf = Math.round(fields.reduce((sum, f) => sum + f.confidence, 0) / fields.length);

  document.getElementById('processingTime').classList.add('visible');
  document.getElementById('timeValue').textContent = doc.time;

  document.getElementById('statFields').textContent = fields.length + '/' + fields.length;
  document.getElementById('statConfidence').textContent = avgConf + '%';
  document.getElementById('statTime').textContent = doc.time;

  document.getElementById('statsBar').classList.add('visible');
}
</script>

</body>
</html>
